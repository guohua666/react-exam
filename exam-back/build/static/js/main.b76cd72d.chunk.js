(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{286:function(e,t,a){e.exports=a(589)},333:function(e,t){},394:function(e,t,a){},395:function(e,t,a){},504:function(e,t,a){},542:function(e,t,a){},543:function(e,t,a){},544:function(e,t,a){},545:function(e,t,a){},546:function(e,t,a){},547:function(e,t,a){},589:function(e,t,a){"use strict";a.r(t);var n=a(67),r=a.n(n),i=a(0),l=a.n(i),s=a(82),c=(a(394),a(13)),o=a(14),u=a(16),m=a(15),d=a(17),p=(a(123),a(39)),h=a.n(p),f=(a(395),a(43)),y=a(266),v=a.n(y),b=a(111),g=a.n(b),E=a(602),O={401:{type:"error",message:"\u6ca1\u6709\u6743\u9650"},501:{type:"error",message:"\u670d\u52a1\u5668\u9519\u8bef!"}};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var _=g.a.create({timeout:5e3});_.interceptors.request.use(function(e){var t=null==h.a.get("token")?"":h.a.get("token");return"post"===e.method?e.data=v.a.stringify(w({},e.data)):e.params=w({},e.params),e.headers["Content-Type"]="application/x-www-form-urlencoded",e.headers.authorization=t,t.length||(E.a.error("\u4f60\u8fd8\u6ca1\u6709\u767b\u5f55\uff0c\u6ca1\u6709\u6743\u9650\u8bbf\u95ee"),window.location.href="#/login"),e}),_.interceptors.response.use(function(e){return 401!==e.status&&500!==e.status||E.a[O[e.status].type](O[e.status].message),e},function(e){return Promise.reject(e)});var k=_;function S(){return k.post("/user/identityId")}function x(){return k.get("/user/apiAuthority")}function I(){return k.get("/user/viewAuthority")}var C,D,N=[{id:"sub1",icon:"sliders",name:"\u8bd5\u9898\u7ba1\u7406",isShow:!1,children:[{id:"1",path:"/main/addQuestions",name:"\u6dfb\u52a0\u8bd5\u9898",isShow:!1},{id:"2",path:"/main/questionsType",name:"\u8bd5\u9898\u5206\u7c7b",isShow:!1},{id:"3",path:"/main/watchQuestions",name:"\u67e5\u770b\u8bd5\u9898",isShow:!1}]},{id:"sub2",icon:"user",name:"\u7528\u6237\u7ba1\u7406",isShow:!1,children:[{id:"4",path:"/main/addUser",name:"\u6dfb\u52a0\u7528\u6237",isShow:!1},{id:"5",path:"/main/showUser",name:"\u7528\u6237\u5c55\u793a",isShow:!1}]},{id:"sub3",icon:"schedule",name:"\u8003\u8bd5\u7ba1\u7406",isShow:!1,children:[{id:"6",path:"/main/addExam",name:"\u6dfb\u52a0\u8003\u8bd5",isShow:!1},{id:"7",path:"/main/exam",name:"\u8bd5\u5377\u5217\u8868",isShow:!1}]},{id:"sub4",icon:"project",name:"\u73ed\u7ea7\u7ba1\u7406",isShow:!1,children:[{id:"8",path:"/main/grade",name:"\u73ed\u7ea7\u7ba1\u7406",isShow:!1},{id:"9",path:"/main/room",name:"\u6559\u5ba4\u7ba1\u7406",isShow:!1},{id:"10",path:"/main/student",name:"\u5b66\u751f\u7ba1\u7406",isShow:!1}]},{id:"sub5",icon:"project",name:"\u9605\u5377\u7ba1\u7406",isShow:!1,children:[{id:"11",path:"/main/paper",name:"\u5f85\u6279\u73ed\u7ea7",isShow:!1}]}],q=a(599),A=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){a.props.handle("ok")},a.handleCancel=function(e){a.props.handle("no")},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(q.a,{title:"\u9000\u51fa\u767b\u5f55",visible:this.props.visible,onOk:this.handleOk,onCancel:this.handleCancel},l.a.createElement("p",null,"\u786e\u5b9a\u8981\u9000\u51fa\u5f53\u524d\u767b\u5f55\u5417 \u4eb2 ?")))}}]),t}(i.Component),U=a(591),L=a(98),P=a(145),F=a(38),T=a(9),M=U.a.Header,H=U.a.Sider,Y=U.a.Content,B=L.a.SubMenu,V=Object(n.connect)(function(e){return e.login})(C=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,newSiderBar:[],visible:!1},a.loginOut=function(){a.setState({visible:!0})},a.handle=function(e){"ok"===e?(a.setState({visible:!1}),a.props.history.push("/login"),h.a.set("id",""),h.a.set("identity_id",""),h.a.set("token","")):"no"===e&&a.setState({visible:!1})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=l.a.createElement(L.a,null,l.a.createElement(L.a.Item,{key:"1"},"\u4e2a\u4eba\u4e2d\u5fc3"),l.a.createElement(L.a.Item,{key:"2"},"\u6211\u7684\u73ed\u7ea7"),l.a.createElement(L.a.Item,{key:"3",onClick:function(){e.props.history.push("/main/addHeadImg")}},"\u8bbe\u7f6e"),l.a.createElement(L.a.Item,{key:"4",onClick:this.loginOut},"\u9000\u51fa\u767b\u5f55"));return l.a.createElement(U.a,null,l.a.createElement(M,null,l.a.createElement("div",{className:"logo"},l.a.createElement("img",{src:"/public/static/img/logo.jpg",alt:"logo"})),l.a.createElement(P.a,{overlay:t},l.a.createElement(F.a,{className:"user"},this.props.headImg?l.a.createElement("img",{src:this.props.headImg,alt:"\u5934\u50cf"}):localStorage.getItem("HeadImg")?l.a.createElement("img",{src:localStorage.getItem("HeadImg"),alt:"\u5934\u50cf"}):l.a.createElement("img",{src:"/public/static/img/timg.jpg",alt:"\u5934\u50cf"}),l.a.createElement("b",null,this.props.name)))),l.a.createElement(U.a,null,l.a.createElement(H,null,l.a.createElement(L.a,{style:{width:256},mode:"inline",theme:"dark"},this.state.newSiderBar.map(function(t){return t.isShow&&l.a.createElement(B,{key:t.id,title:l.a.createElement("span",null,l.a.createElement(T.a,{type:t.icon}),l.a.createElement("span",null,t.name))},t.children&&t.children.map(function(t){return t.isShow&&l.a.createElement(L.a.Item,{key:t.id,onClick:function(){e.props.history.push(t.path)}},t.name)}))}))),l.a.createElement(Y,{style:{background:"#F0F2F5",padding:24,margin:0,minHeight:280}},this.props.children)),l.a.createElement(A,{visible:this.state.visible,handle:this.handle}))}},{key:"componentDidMount",value:function(){var e=this;sessionStorage.setItem("name",this.props.name);var t=h.a.get("identity_id");1*t===2?this.props.history.push("/main/watchQuestions"):1*t===0&&this.props.history.push("/main/addUser"),function(e){return k.get("/user/identityView/"+e)}(t).then(function(a){var n=a.data;N.forEach(function(e){e.isShow=!1,e.children.forEach(function(e){e.isShow=!1})});var r;1*t===666?N.forEach(function(e){e.isShow=!0,e.children.forEach(function(e){e.isShow=!0})}):(N.forEach(function(e){e.children.forEach(function(e){n.forEach(function(t){e.name===t.view_authority_text&&(e.isShow=!0)})})}),N.forEach(function(e){e.isShow=e.children.some(function(e){return e.isShow})})),r=N,e.setState({newSiderBar:r})})}}]),t}(i.Component))||C,z=a(597),R=a(598);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var J=Object(n.connect)(function(e){return e.login})(D=z.a.create({name:"loginFrom",mapPropsToFields:function(e){return{username:z.a.createFormField(Q({},e.username,{value:""})),password:z.a.createFormField(Q({},e.password,{value:""}))}}})(D=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.dispatch({type:"login/login",payload:t}).then(function(){a.props.value.data.code?(E.a.success(a.props.value.data.msg),a.props.history.push("/main/addQuestions")):E.a.error(a.props.value.data.msg)})})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"loginform"},l.a.createElement("h1",null,"\u7528\u6237\u767b\u5f55"),l.a.createElement(z.a,{labelCol:{span:5},wrapperCol:{span:15},onSubmit:this.handleSubmit,className:"login-form"},l.a.createElement(z.a.Item,{label:"\u7528\u6237\u540d"},e("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u7528\u6237\u540d!"}]})(l.a.createElement(R.a,null))),l.a.createElement(z.a.Item,{label:"\u5bc6\u7801"},e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801!"}]})(l.a.createElement(R.a,{type:"password"}))),l.a.createElement(z.a.Item,{wrapperCol:{span:12,offset:2}},l.a.createElement(F.a,{type:"primary",htmlType:"submit",className:"sub"},"\u767b\u5f55")))))}}]),t}(i.Component))||D)||D,K=(a(504),a(12)),W=a.n(K),X=(a(243),a(115)),Z=a(594);W.a.locale("zh-cn");var $,ee,te=X.a.Option,ae=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={testType:"",testObject:"",data:[],allList:[],contList:[{id:0,cont:"\u5168\u90e8"},{id:1,cont:"\u8fdb\u884c\u4e2d"},{id:2,cont:"\u5df2\u7ed3\u675f"}],columns:[{title:"\u8bd5\u5377\u4fe1\u606f",dataIndex:"info",key:"info"},{title:"\u73ed\u7ea7",dataIndex:"classtest",key:"classtest"},{title:"\u521b\u5efa\u4eba",dataIndex:"createman",key:"createman"},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"startDate",key:"startDate"},{title:"\u7ed3\u675f\u65f6\u95f4",dataIndex:"endtDate",key:"endtDate"},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("b",{onClick:function(){return a.handleDetail(t)}},"\u8be6\u60c5"))}}],ind:0},a.handleChange=function(e){a.setState({testType:e})},a.handleObject=function(e){a.setState({testObject:e})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleSearch",value:function(){var e,t=this;(e={testType:this.state.testType,testObject:this.state.testObject},k.post("/exam/search",e)).then(function(e){var a=e.data.result.map(function(e){return e.startDate=W()(+e.startDate).format("YYYY-MM-DD HH:mm:ss"),e.endtDate=W()(+e.endtDate).format("YYYY-MM-DD HH:mm:ss"),e});t.setState({data:a})})}},{key:"handleDetail",value:function(e){var t,a=this;(t={examtype:e.examtype,course:e.course},k.post("/exam/detailtest",t)).then(function(t){if(t.data.code){var n=t.data.result.slice(0,e.cont),r="/main/detail/".concat(e.key);a.props.history.push({pathname:r,state:{data:n}}),E.a.success("".concat(t.data.msg))}else E.a.success("".concat(t.data.msg))}).catch(function(e){E.a.success(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.testType,n=t.testObject,r=t.data,i=t.columns,s=t.contList,c=t.ind;return l.a.createElement("div",{className:"Exam"},l.a.createElement("h2",{className:"top"},"\u8bd5\u5377\u5217\u8868"),l.a.createElement("div",{className:"center"},l.a.createElement("span",{className:"spans"},"\u8003\u8bd5\u7c7b\u578b\uff1a"),l.a.createElement(X.a,{defaultValue:"\u5468\u8003\u4e00",style:{width:120},value:a,onChange:this.handleChange},l.a.createElement(te,{value:"\u5468\u8003\u4e00"},"\u5468\u8003\u4e00"),l.a.createElement(te,{value:"\u5468\u8003\u4e8c"},"\u5468\u8003\u4e8c"),l.a.createElement(te,{value:"\u5468\u8003\u4e09"},"\u5468\u8003\u4e09"),l.a.createElement(te,{value:"\u6708\u8003"},"\u6708\u8003")),l.a.createElement("span",{className:"spans"},"\u8bfe\u7a0b\uff1a"),l.a.createElement(X.a,{defaultValue:"javaScript\u4e0a",style:{width:120},value:n,onChange:this.handleObject},l.a.createElement(te,{value:"javaScript\u4e0a"},"javaScript\u4e0a"),l.a.createElement(te,{value:"javaScript\u4e0b"},"javaScript\u4e0b"),l.a.createElement(te,{value:"\u6a21\u5757\u5316\u5f00\u53d1"},"\u6a21\u5757\u5316\u5f00\u53d1"),l.a.createElement(te,{value:"\u79fb\u52a8\u7aef\u5f00\u53d1"},"\u79fb\u52a8\u7aef\u5f00\u53d1"),l.a.createElement(te,{value:"node\u57fa\u7840"},"node\u57fa\u7840"),l.a.createElement(te,{value:"\u7ec4\u4ef6\u5316\u5f00\u53d1(vue)"},"\u7ec4\u4ef6\u5316\u5f00\u53d1(vue)"),l.a.createElement(te,{value:"\u6e10\u8fdb\u5f0f\u5f00\u53d1(react)"},"\u6e10\u8fdb\u5f0f\u5f00\u53d1(react)"),l.a.createElement(te,{value:"\u9879\u76ee\u5b9e\u6218"},"\u9879\u76ee\u5b9e\u6218"),l.a.createElement(te,{value:"javaScript\u9ad8\u7ea7"},"javaScript\u9ad8\u7ea7"),l.a.createElement(te,{value:"node\u9ad8\u7ea7"},"node\u9ad8\u7ea7")),l.a.createElement(F.a,{type:"primary",icon:"search",onClick:function(){return e.handleSearch()},className:"exam-search"},"\u641c\u7d22")),l.a.createElement("div",{className:"bottom"},l.a.createElement("p",{className:"bottom-top"},l.a.createElement("span",null,"\u8bd5\u5377\u5217\u8868"),s.map(function(t){return l.a.createElement("b",{key:t.id,className:t.id===c?"active":"",onClick:function(){return e.handleClick(t.id,t)}},t.cont)})),l.a.createElement("div",{className:"bottom-bottom"},l.a.createElement(Z.a,{columns:i,dataSource:r}))))}},{key:"componentDidMount",value:function(){this._getTestList()}},{key:"_getTestList",value:function(){var e=this;k.get("/exam/exam").then(function(t){var a=t.data.result.map(function(e){return e.startDate=W()(+e.startDate).format("YYYY-MM-DD HH:mm:ss"),e.endtDate=W()(+e.endtDate).format("YYYY-MM-DD HH:mm:ss"),e});e.setState({data:a,allList:a})})}},{key:"handleClick",value:function(e,t){var a=this;this.setState({ind:e}),function(e){var t="/exam/type?id=".concat(e);return k.get(t)}(e).then(function(e){var t=e.data.result.map(function(e){return e.startDate=W()(+e.startDate).format("YYYY-MM-DD HH:mm:ss"),e.endtDate=W()(+e.endtDate).format("YYYY-MM-DD HH:mm:ss"),e});a.setState({data:t}),0===a.state.ind&&a.setState({data:a.state.allList})})}}]),t}(i.Component),ne=(a(542),function(){return k.get("/grade/getRoom")}),re=function(){return k.get("/grade/getRoomList")},ie=function(){return k.get("/grade/getClass")},le=function(e){return k.post("/grade/updateGrade",e)},se=function(e){return k.post("/grade/addRoom",{room:e})},ce=function(e){return k.post("/grade/delRoom",{room:e})},oe=function(e){return k.post("/grade/serchStudent",e)},ue=function(e){return k.post("/grade/delStudent",e)},me=a(592),de=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,value:"",roomList:[]},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(e){var t=a.state.value;se(t).then(function(e){E.a.success("\u6dfb\u52a0\u6210\u529f"),re().then(function(e){a.setState({roomList:e.data.result.map(function(e,t){return e.key=t,e})})})}),a.setState({visible:!1})},a.handleCancel=function(e){a.setState({visible:!1})},a.confirm=function(e){ce(e.room_name).then(function(e){re().then(function(e){a.setState({roomList:e.data.result.map(function(e,t){return e.key=t,e})})})}),E.a.success("\u5220\u9664\u6210\u529f")},a.cancel=function(e){E.a.error("\u53d6\u6d88\u5220\u9664")},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;re().then(function(t){e.setState({roomList:t.data.result.map(function(e,t){return e.key=t,e})})})}},{key:"render",value:function(){var e=this,t=[{title:"\u6559\u5ba4\u53f7",dataIndex:"room_name",key:"room_id"},{title:"Action",key:"action",render:function(t){return l.a.createElement("span",null,l.a.createElement(me.a,{title:"\u786e\u5b9a\u5220\u9664\u5417?",onConfirm:function(){return e.confirm(t)},onCancel:e.cancel,okText:"Yes",cancelText:"No"},l.a.createElement("span",{className:"cus",onClick:function(){}},"\u5220\u9664")))}}];return l.a.createElement("div",{className:"roomManage"},l.a.createElement(F.a,{type:"primary",onClick:this.showModal,className:"btn1"},"\u6dfb\u52a0\u6559\u5ba4"),l.a.createElement(q.a,{title:"\u6dfb\u52a0\u6559\u5ba4",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},l.a.createElement("p",null,"\u6559\u5ba4\u53f7\uff1a",l.a.createElement("input",{style:{border:"solid 1px #ccc",height:"30px",borderRadius:"3px",paddingLeft:"10px"},type:"text",placeholder:"\u8bf7\u8f93\u5165\u6559\u5ba4\u53f7",value:this.state.value,onChange:function(t){e.setState({value:t.currentTarget.value})}}))),l.a.createElement(Z.a,{columns:t,dataSource:this.state.roomList}))}}]),t}(l.a.Component),pe=(a(543),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=[{title:"\u73ed\u7ea7\u540d",dataIndex:"name_class",key:"name_class"},{title:"\u8bfe\u7a0b\u540d\u79f0",dataIndex:"name_lesson",key:"name_lesson"},{title:"\u9605\u5377\u72b6\u6001",dataIndex:"Marking_status",key:"Marking_status"},{title:"\u6210\u624d\u7387",dataIndex:"talent",key:"talent"},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return l.a.createElement("a",{href:"/#/main/paper"},"\u6279\u5377")}}];return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{className:"title"},"\u5f85\u6279\u73ed\u7ea7"),l.a.createElement("div",{className:"table"},l.a.createElement(Z.a,{columns:e,dataSource:[{key:"1",name_class:"1610C",name_lesson:"\u6e10\u8fdb\u5f0f\u5f00\u53d1(react)",Marking_status:"",talent:"80%"},{key:"2",name_class:"1610C",name_lesson:"\u6e10\u8fdb\u5f0f\u5f00\u53d1(react)",Marking_status:"",talent:"80%"},{key:"3",name_class:"1610C",name_lesson:"\u6e10\u8fdb\u5f0f\u5f00\u53d1(react)",Marking_status:"",talent:"80%"}]})))}}]),t}(i.Component)),he=(a(544),a(593)),fe=X.a.Option,ye=Z.a.Column,ve=z.a.create({name:"class"})($=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={size:"large",visible:!1,visible2:!1,rooms:[],subjects:[],data:[],guard:"",sub:"",rom:""},a.showModal=function(){ne().then(function(e){a.setState({rooms:e.data.result,visible:!0,confirmDirty:!1})})},a.handleOk=function(e){ne().then(function(e){a.setState({rooms:e.data.result})}),a.setState({visible:!1}),e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||a.addGuade(t)})},a.handleCancel=function(e){a.setState({visible:!1})},a.confirm=function(e){a.delBan(e),E.a.success("\u5220\u9664\u6210\u529f")},a.cancel=function(e){E.a.error("\u53d6\u6d88\u5220\u9664")},a.handleOk2=function(e){a.setState({visible2:!1}),e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||le(t).then(function(e){ie().then(function(e){a.setState({data:e.data.result.map(function(e,t){return e.key=t,e})})})})})},a.handleCancel2=function(e){a.setState({visible2:!1})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;ie().then(function(t){e.setState({data:t.data.result.map(function(e,t){return e.key=t,e})})}),ne().then(function(t){e.setState({rooms:t.data.result})}),k.get("/grade/getSubject").then(function(t){e.setState({subjects:t.data.result})})}},{key:"addGuade",value:function(e){var t=this;console.log(e),function(e){return k.post("/grade/addBanClass",e)}(e).then(function(e){"no"===e.data.result?E.a.error("\u73ed\u7ea7\u5df2\u5b58\u5728\uff0c\u8bf7\u52ff\u91cd\u590d\u6dfb\u52a0"):ie().then(function(e){t.setState({data:e.data.result.map(function(e,t){return e.key=t,e})})})})}},{key:"delBan",value:function(e){var t,a=this;(t=e.id,k.post("/grade/delGrade",{id:t})).then(function(e){ie().then(function(e){a.setState({data:e.data.result.map(function(e,t){return e.key=t,e})})})})}},{key:"alter",value:function(e){this.setState({visible2:!0,guard:e.class,sub:e.courseName,rom:e.classroomnumber})}},{key:"render",value:function(){var e=this,t=this.state,a=t.size,n=t.data,r=this.props.form.getFieldDecorator,i={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}};return l.a.createElement("div",{className:"cls"},l.a.createElement("div",{className:"btn"},l.a.createElement(F.a,{type:"primary",size:a,onClick:this.showModal,className:"btn1"},"\u6dfb\u52a0\u73ed\u7ea7"),l.a.createElement(q.a,{title:"\u6dfb\u52a0\u73ed\u7ea7",visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel,okButtonProps:!0,cancelButtonProps:!0,okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88"},l.a.createElement(z.a,Object.assign({},i,{onSubmit:this.handleSubmit}),l.a.createElement(z.a.Item,{labelCol:{span:5},label:"\u73ed\u7ea7\u540d"},r("ban",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u73ed\u7ea7\u53f7!"}]})(l.a.createElement(R.a,{placeholder:"\u8bf7\u9009\u62e9\u73ed\u7ea7\u53f7"}))),l.a.createElement(z.a.Item,{labelCol:{span:5},label:"\u6559\u5ba4\u53f7"},r("room",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6559\u5ba4\u53f7!"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9\u6559\u5ba4\u53f7"},this.state.rooms.map(function(e,t){return l.a.createElement(fe,{value:e.room_name,key:e.room_id},e.room_name)})))),l.a.createElement(z.a.Item,{labelCol:{span:5},label:"\u8bfe\u7a0b\u540d"},r("subject",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8bfe\u7a0b\u540d!"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9\u8bfe\u7a0b\u540d"},this.state.subjects.map(function(e,t){return l.a.createElement(fe,{value:e.subject_name,key:e.id},e.subject_name)}))))))),l.a.createElement(Z.a,{dataSource:n},l.a.createElement(ye,{title:"\u73ed\u7ea7\u540d",dataIndex:"class",key:"class"}),l.a.createElement(ye,{title:"\u8bfe\u7a0b\u540d",dataIndex:"courseName",key:"courseName"}),l.a.createElement(ye,{title:"\u6559\u5ba4\u53f7",dataIndex:"classroomnumber",key:"classroomnumber"}),l.a.createElement(ye,{title:"\u64cd\u4f5c",render:function(t){return l.a.createElement("span",null,l.a.createElement("span",{className:"cus",onClick:e.alter.bind(e,t)},"\u4fee\u6539 ",t.lastName),l.a.createElement(he.a,{type:"vertical"}),l.a.createElement(me.a,{title:"\u786e\u5b9a\u5220\u9664\u5417?",onConfirm:function(){return e.confirm(t)},onCancel:e.cancel,okText:"Yes",cancelText:"No"},l.a.createElement("span",{className:"cus"},"\u5220\u9664")))}})),l.a.createElement(q.a,{title:"\u4fee\u6539\u73ed\u7ea7",visible:this.state.visible2,onOk:this.handleOk2,onCancel:this.handleCancel2,okButtonProps:!0,cancelButtonProps:!0,okText:"\u63d0\u4ea4",cancelText:"\u53d6\u6d88"},l.a.createElement(z.a,Object.assign({},i,{onSubmit:this.handleSubmit}),l.a.createElement(z.a.Item,{labelCol:{span:5},label:"\u73ed\u7ea7\u540d"},r("ban",{initialValue:"".concat(this.state.guard)},{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u73ed\u7ea7\u53f7!"}]})(l.a.createElement(R.a,{placeholder:"\u8bf7\u9009\u62e9\u73ed\u7ea7\u53f7",disabled:!0}))),l.a.createElement(z.a.Item,{labelCol:{span:5},label:"\u6559\u5ba4\u53f7"},r("room",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6559\u5ba4\u53f7!"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9\u6559\u5ba4\u53f7"},this.state.rooms.map(function(e,t){return l.a.createElement(fe,{value:e.room_name,key:e.room_id},e.room_name)})))),l.a.createElement(z.a.Item,{labelCol:{span:5},label:"\u8bfe\u7a0b\u540d"},r("subject",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8bfe\u7a0b\u540d!"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9\u8bfe\u7a0b\u540d"},this.state.subjects.map(function(e,t){return l.a.createElement(fe,{value:e.subject_name,key:e.id},e.subject_name)})))))))}}]),t}(i.Component))||$,be=a(595),ge=a(600);W.a.locale("zh-cn");var Ee,Oe,je,we,_e,ke,Se,xe,Ie=X.a.Option,Ce=be.a.RangePicker,De=z.a.create({name:"normal_login"})(ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={subjectList:[],startdate:null,enddate:null},a.handleSunject=function(){k.get("/exam/subject").then(function(e){a.setState({subjectList:e.data.result})})},a.range=function(e,t){for(var a=[],n=e;n<t;n++)a.push(n);return a},a.disabledDate=function(e){return e&&e<W()().endOf("day")},a.disabledRangeTime=function(e,t){return"start"===t?{disabledHours:function(){return a.range(0,60).splice(4,20)},disabledMinutes:function(){return a.range(30,60)},disabledSeconds:function(){return[55,56]}}:{disabledHours:function(){return a.range(0,60).splice(20,4)},disabledMinutes:function(){return a.range(0,31)},disabledSeconds:function(){return[55,56]}}},a.handleChange=function(e,t){a.setState({startdate:t[0],enddate:t[1]})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var n=h.a.get("username"),r=+new Date>+new Date(a.state.enddate)?"2":"1";t.startdate=+new Date(a.state.startdate),t.enddate=+new Date(a.state.enddate),t.createman=n,t.action="\u8be6\u60c5",t.type=r,(i=t,k.post("/exam/addtest",i)).then(function(e){var t=e.data;t.code?(E.a.success("\u6dfb\u52a0\u6210\u529f"),a.props.form.resetFields()):E.a.success("".concat(t.msg))})}var i})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.handleSunject()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.subjectList;return l.a.createElement("div",{className:"addExam"},l.a.createElement("h2",{className:"top"},"\u6dfb\u52a0\u8003\u8bd5"),l.a.createElement("div",{className:"bottom",style:{paddingLeft:30}},l.a.createElement(z.a,{onSubmit:this.handleSubmit,className:"login-form"},l.a.createElement(z.a.Item,{label:"\u8bd5\u5377\u540d\u79f0"},e("info",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8003\u8bd5\u540d\u79f0!"}]})(l.a.createElement(R.a,null))),l.a.createElement(z.a.Item,{label:"\u9009\u62e9\u8003\u8bd5\u7c7b\u578b:",hasFeedback:!0},e("examtype",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8003\u8bd5\u7c7b\u578b!"}]})(l.a.createElement(X.a,{className:"select"},l.a.createElement(Ie,{value:"\u5468\u8003\u4e00"},"\u5468\u8003\u4e00"),l.a.createElement(Ie,{value:"\u5468\u8003\u4e8c"},"\u5468\u8003\u4e8c"),l.a.createElement(Ie,{value:"\u5468\u8003\u4e09"},"\u5468\u8003\u4e09"),l.a.createElement(Ie,{value:"\u6708\u8003"},"\u6708\u8003")))),l.a.createElement(z.a.Item,{label:"\u9009\u62e9\u8bfe\u7a0b:",hasFeedback:!0},e("course",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8bfe\u7a0b!"}]})(l.a.createElement(X.a,{className:"select"},t.map(function(e){return l.a.createElement(Ie,{value:e.subject_name,key:e.id},e.subject_name)})))),l.a.createElement(z.a.Item,{label:"\u8bbe\u7f6e\u9898\u91cf:",hasFeedback:!0},e("cont",{rules:[{required:!0,message:"\u8bf7\u8bbe\u7f6e\u9898\u91cf!"}]})(l.a.createElement(ge.a,{min:3,max:9}))),l.a.createElement(z.a.Item,{label:"\u8003\u8bd5\u65f6\u95f4:",className:"date"},e("dateTime",{rules:[{required:!0,message:"\u8bf7\u8bbe\u7f6e\u9898\u91cf!"}]})(l.a.createElement(Ce,{disabledDate:this.disabledDate,disabledTime:this.disabledRangeTime,onChange:this.handleChange,showTime:{hideDisabledOptions:!0,defaultValue:[W()("00:00:00","HH:mm:ss"),W()("11:59:59","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss"}))),l.a.createElement(F.a,{type:"primary",htmlType:"submit",className:"login-form-button",style:{marginBottom:"30px"}},"\u521b\u5efa\u8bd5\u5377"))))}}]),t}(i.Component))||ee,Ne=(a(545),X.a.Option),qe=z.a.create()(Ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||(console.log("Received values of form: ",t),a.props.form.resetFields())})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return l.a.createElement(z.a,{onSubmit:this.handleSubmit},l.a.createElement(z.a.Item,{className:"addUserItem"},t("view",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5df2\u6709\u89c6\u56fe!"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9\u5df2\u6709\u89c6\u56fe"},this.props.viewAuthority?this.props.viewAuthority.map(function(e){return l.a.createElement(Ne,{key:e.view_authority_id,value:e.view_id},e.view_authority_text)}):null))),l.a.createElement(z.a.Item,null,l.a.createElement(F.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"),l.a.createElement(F.a,{style:{marginLeft:8},onClick:function(){e.props.form.resetFields()}},"\u91cd\u7f6e")))}}]),t}(i.Component))||Ee,Ae=a(144),Ue=z.a.create()(Oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){var n;e||(n=t,k.post("/user/addApi",n)).then(function(e){1===e.data.code&&(E.a.success("\u6dfb\u52a0\u6210\u529f"),a.props.form.resetFields())})})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return l.a.createElement(z.a,{onSubmit:this.handleSubmit},l.a.createElement(z.a.Item,{className:"addUserItem"},t("apiName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165api\u63a5\u53e3\u6743\u9650\u540d\u79f0!"}]})(l.a.createElement(R.a,{placeholder:"\u8bf7\u8f93\u5165api\u63a5\u53e3\u6743\u9650\u540d\u79f0"}))),l.a.createElement(z.a.Item,{className:"addUserItem"},t("apiUrl",{rules:[{required:!0,message:"Please input your api\u63a5\u53e3\u6743\u9650url!"}]})(l.a.createElement(R.a,{placeholder:"\u8bf7\u8f93\u5165api\u63a5\u53e3\u6743\u9650url"}))),l.a.createElement(z.a.Item,{className:"addUserItem"},t("apiMethod",{rules:[{required:!0,message:"Please input your api\u63a5\u53e3\u6743\u9650\u65b9\u6cd5!"}]})(l.a.createElement(R.a,{placeholder:"\u8bf7\u8f93\u5165api\u63a5\u53e3\u6743\u9650\u65b9\u6cd5"}))),l.a.createElement(z.a.Item,null,l.a.createElement(F.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"),l.a.createElement(F.a,{style:{marginLeft:8},onClick:function(){e.props.form.resetFields()}},"\u91cd\u7f6e")))}}]),t}(i.Component))||Oe,Le=X.a.Option,Pe=z.a.create()(je=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){var n;e||(n=t,k.post("/user/addUser",n)).then(function(e){1===e.data.code&&(E.a.success("\u6dfb\u52a0\u6210\u529f"),a.props.form.resetFields())}).catch(function(e){E.a.error("\u6b64\u7528\u6237\u5df2\u5b58\u5728")})})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return l.a.createElement(z.a,{onSubmit:this.handleSubmit},l.a.createElement(z.a.Item,{className:"addUserItem"},t("addUserName",{rules:[{required:!0,message:"Please input your username!"}]})(l.a.createElement(R.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}))),l.a.createElement(z.a.Item,{className:"addUserItem"},t("addPassWord",{rules:[{required:!0,message:"Please input your password!"}]})(l.a.createElement(R.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"}))),l.a.createElement(z.a.Item,{className:"addUserItem"},t("identityId",{rules:[{required:!0,message:"Please select your identityId!"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9\u8eab\u4efdid"},this.props.identityId?this.props.identityId.map(function(e){return l.a.createElement(Le,{key:e.id,value:e.identity_id},e.identity)}):null))),l.a.createElement(z.a.Item,null,l.a.createElement(F.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"),l.a.createElement(F.a,{style:{marginLeft:8},onClick:function(){e.props.form.resetFields()}},"\u91cd\u7f6e")))}}]),t}(i.Component))||je,Fe=X.a.Option,Te=z.a.create()(we=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={userName:[]},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){var n;e||(n=t,k.post("/user/updateUser",n)).then(function(e){1===e.data.code&&(E.a.success("\u66f4\u65b0\u6210\u529f"),a.props.form.resetFields())})})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state.userName,a=this.props.form.getFieldDecorator;return l.a.createElement(z.a,{onSubmit:this.handleSubmit},l.a.createElement(z.a.Item,{className:"addUserItem"},a("userName",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8eab\u4efdid"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9\u8eab\u4efdid"},t?t.map(function(e){return l.a.createElement(Fe,{key:e.user_id,value:e.user_id},e.username)}):null))),l.a.createElement(z.a.Item,{className:"addUserItem"},a("addUserName",{rules:[{required:!0,message:"Please input your username!"}]})(l.a.createElement(R.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}))),l.a.createElement(z.a.Item,{className:"addUserItem"},a("addPassWord",{rules:[{required:!0,message:"Please input your password!"}]})(l.a.createElement(R.a,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",type:"password"}))),l.a.createElement(z.a.Item,{className:"addUserItem"},a("identityId",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8eab\u4efdid"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9\u8eab\u4efdid"},this.props.identityId?this.props.identityId.map(function(e){return l.a.createElement(Fe,{key:e.id,value:e.identity_id},e.identity)}):null))),l.a.createElement(z.a.Item,null,l.a.createElement(F.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"),l.a.createElement(F.a,{style:{marginLeft:8},onClick:function(){e.props.form.resetFields()}},"\u91cd\u7f6e")))}},{key:"componentDidMount",value:function(){var e=this;k.get("/user/userInfo").then(function(t){e.setState({userName:t.data})})}}]),t}(i.Component))||we,Me=z.a.create()(_e=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||(console.log("Received values of form: ",t),a.props.form.resetFields())})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return l.a.createElement(z.a,{onSubmit:this.handleSubmit},l.a.createElement(z.a.Item,{className:"addUserItem"},t("identityName",{rules:[{required:!0,message:"Please input your identityName!"}]})(l.a.createElement(R.a,{placeholder:"\u8bf7\u8f93\u5165\u8eab\u4efd\u540d\u79f0"}))),l.a.createElement(z.a.Item,null,l.a.createElement(F.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"),l.a.createElement(F.a,{style:{marginLeft:8},onClick:function(){e.props.form.resetFields()}},"\u91cd\u7f6e")))}}]),t}(i.Component))||_e,He=X.a.Option,Ye=z.a.create()(ke=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={apiAuthority:[]},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||a.props.form.resetFields()})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.apiAuthority;return l.a.createElement(z.a,{onSubmit:this.handleSubmit},l.a.createElement(z.a.Item,{className:"addUserItem"},t("identityId",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8eab\u4efdid!"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9\u8eab\u4efdid"},this.props.identityId?this.props.identityId.map(function(e){return l.a.createElement(He,{key:e.id,value:e.identity_id},e.identity)}):null))),l.a.createElement(z.a.Item,{className:"addUserItem"},t("apiId",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9api\u63a5\u53e3\u6743\u9650id!"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9api\u63a5\u53e3\u6743\u9650id"},a?a.map(function(e){return l.a.createElement(He,{key:e.api_authority_id,value:e.api_authority_id},e.api_authority_text)}):null))),l.a.createElement(z.a.Item,null,l.a.createElement(F.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"),l.a.createElement(F.a,{style:{marginLeft:8},onClick:function(){e.props.form.resetFields()}},"\u91cd\u7f6e")))}},{key:"componentDidMount",value:function(){var e=this;x().then(function(t){e.setState({apiAuthority:t.data})})}}]),t}(i.Component))||ke,Be=X.a.Option,Ve=z.a.create()(Se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){e||(console.log("Received values of form: ",t),a.props.form.resetFields())})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.viewAuthority;return l.a.createElement(z.a,{onSubmit:this.handleSubmit},l.a.createElement(z.a.Item,{className:"addUserItem"},t("identityId",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8eab\u4efdid!"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9\u8eab\u4efdid"},this.props.identityId?this.props.identityId.map(function(e){return l.a.createElement(Be,{key:e.id,value:e.identity_id},e.identity)}):null))),l.a.createElement(z.a.Item,{className:"addUserItem"},t("viewId",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u89c6\u56fe\u6743\u9650id!"}]})(l.a.createElement(X.a,{placeholder:"\u8bf7\u9009\u62e9\u89c6\u56fe\u6743\u9650id"},a?a.map(function(e){return l.a.createElement(Be,{key:e.view_authority_id,value:e.view_id},e.view_authority_text)}):null))),l.a.createElement(z.a.Item,null,l.a.createElement(F.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"),l.a.createElement(F.a,{style:{marginLeft:8},onClick:function(){e.props.form.resetFields()}},"\u91cd\u7f6e")))}}]),t}(i.Component))||Se,ze=z.a.create()(xe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={size:"\u6dfb\u52a0\u7528\u6237",identityId:[],viewAuthority:[]},a.handleSizeChange=function(e){a.setState({size:e.target.value})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.size,a=e.identityId,n=e.viewAuthority;return l.a.createElement("div",{className:"addUser"},l.a.createElement("div",{className:"\r addUser_wrapper \r addUser_wrapper_left \r addUser_wrapper_top \r addUser_wrapper_right \r addUser_wrapper_bottom\r "},l.a.createElement("div",{className:"addUserItem"},l.a.createElement(Ae.a.Group,{value:t,onChange:this.handleSizeChange},l.a.createElement(Ae.a.Button,{value:"\u6dfb\u52a0\u7528\u6237"},"\u6dfb\u52a0\u7528\u6237"),l.a.createElement(Ae.a.Button,{value:"\u66f4\u65b0\u7528\u6237"},"\u66f4\u65b0\u7528\u6237"))),"\u6dfb\u52a0\u7528\u6237"===t?l.a.createElement(Pe,{identityId:a}):l.a.createElement(Te,{identityId:a})),l.a.createElement("div",{className:"\r addUser_wrapper\r addUser_wrapper_top \r addUser_wrapper_right \r addUser_wrapper_bottom\r "},l.a.createElement("div",{className:"addUserItem"},l.a.createElement(F.a,{type:"primary",ghost:!0},"\u6dfb\u52a0\u8eab\u4efd")),l.a.createElement(Me,null)),l.a.createElement("div",{className:"\r addUser_wrapper \r addUser_wrapper_top \r addUser_wrapper_right \r addUser_wrapper_bottom\r "},l.a.createElement("div",{className:"addUserItem"},l.a.createElement(F.a,{type:"primary",ghost:!0},"\u6dfb\u52a0api\u63a5\u53e3\u6743\u9650")),l.a.createElement(Ue,null)),l.a.createElement("div",{className:"\r addUser_wrapper \r addUser_wrapper_left \r addUser_wrapper_right \r addUser_wrapper_bottom\r "},l.a.createElement("div",{className:"addUserItem"},l.a.createElement(F.a,{type:"primary",ghost:!0},"\u6dfb\u52a0\u89c6\u56fe\u63a5\u53e3\u6743\u9650")),l.a.createElement(qe,{viewAuthority:n})),l.a.createElement("div",{className:"\r addUser_wrapper \r addUser_wrapper_right \r addUser_wrapper_bottom\r "},l.a.createElement("div",{className:"addUserItem"},l.a.createElement(F.a,{type:"primary",ghost:!0},"\u7ed9\u8eab\u4efd\u8bbe\u7f6eapi\u63a5\u53e3\u6743\u9650")),l.a.createElement(Ye,{identityId:a})),l.a.createElement("div",{className:"\r addUser_wrapper \r addUser_wrapper_right \r addUser_wrapper_bottom\r "},l.a.createElement("div",{className:"addUserItem"},l.a.createElement(F.a,{type:"primary",ghost:!0},"\u7ed9\u8eab\u4efd\u8bbe\u7f6e\u8bd5\u56fe\u6743\u9650")),l.a.createElement(Ve,{identityId:a,viewAuthority:n})))}},{key:"componentDidMount",value:function(){var e=this;S().then(function(t){e.setState({identityId:t.data})}),I().then(function(t){e.setState({viewAuthority:t.data})})}}]),t}(i.Component))||xe;a(546);var Re,Ge=function(){return k.get("/user/student")},Qe=X.a.Option,Je=z.a.create({name:"horizontal_login"})(Re=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],rooms:[],grade:[]},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){oe(t).then(function(e){a.setState({list:e.data.result})})})},a.confirm=function(e){console.log(e),ue(e).then(function(e){Ge().then(function(e){a.setState({list:e.data.user})})}),E.a.success("\u5220\u9664\u6210\u529f")},a.cancel=function(e){E.a.error("\u53d6\u6d88\u5220\u9664")},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;ie().then(function(t){e.setState({grade:t.data.result})}),re().then(function(t){e.setState({rooms:t.data.result})}),this.props.form.validateFields(),Ge().then(function(t){e.setState({list:t.data.user})})}},{key:"render",value:function(){var e=this,t=[{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u5b66\u53f7",dataIndex:"student_number",key:"student_number"},{title:"\u73ed\u7ea7",dataIndex:"class_number",key:"class_number"},{title:"\u6559\u5ba4",dataIndex:"classroom",key:"classroom"},{title:"\u5bc6\u7801",dataIndex:"password",key:"password"},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",render:function(t,a){return l.a.createElement("span",null,l.a.createElement(me.a,{title:"\u786e\u5b9a\u5220\u9664\u5417?",onConfirm:function(){return e.confirm(a)},onCancel:e.cancel,okText:"Yes",cancelText:"No"},l.a.createElement("span",{className:"cus"},t)))}}],a=this.props.form.getFieldDecorator;return l.a.createElement("div",{className:"studentManage"},l.a.createElement("h3",{className:"h3"},"\u5b66\u751f\u7ba1\u7406"),l.a.createElement("div",{className:"top"},l.a.createElement(z.a,{layout:"inline",onSubmit:this.handleSubmit},l.a.createElement(z.a.Item,null,a("name",{})(l.a.createElement(R.a,{placeholder:"\u8f93\u5165\u5b66\u751f\u59d3\u540d",style:{height:32}}))),l.a.createElement(z.a.Item,{className:"wid"},a("room",{})(l.a.createElement(X.a,{className:"select1",placeholder:"\u6559\u5ba4\u53f7",onChange:this.handleSelectChange},this.state.rooms.map(function(e,t){return l.a.createElement(Qe,{value:e.room_name,key:e.room_id},e.room_name)})))),l.a.createElement(z.a.Item,{className:"wid"},a("banji",{})(l.a.createElement(X.a,{className:"select1",placeholder:"\u73ed\u7ea7\u53f7",onChange:this.handleSelectChange},this.state.grade.map(function(e,t){return l.a.createElement(Qe,{value:e.class,key:e.id},e.class)})))),l.a.createElement(z.a.Item,null,l.a.createElement(F.a,{htmlType:"submit",type:"primary"},"\u641c\u7d22")),l.a.createElement(z.a.Item,null,l.a.createElement(F.a,{type:"primary",onClick:function(){e.props.form.resetFields(),Ge().then(function(t){e.setState({list:t.data.user})})}},"\u91cd\u7f6e")))),l.a.createElement("div",{className:"button"},l.a.createElement(Z.a,{columns:t,dataSource:this.state.list})))}}]),t}(i.Component))||Re,Ke=(a(547),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.columns,a=e.data;return l.a.createElement("div",null,l.a.createElement(Z.a,{columns:t,dataSource:a}))}}]),t}(i.Component)),We=[{title:"\u7528\u6237\u540d",dataIndex:"username",key:"username"},{title:"\u5bc6\u7801",dataIndex:"password",key:"password"},{title:"\u8eab\u4efd",dataIndex:"identity",key:"identity"}],Xe=[{title:"\u8eab\u4efd\u540d\u79f0",dataIndex:"identity",key:"identity"}],Ze=[{title:"api\u6743\u9650\u540d\u79f0",dataIndex:"api_authority_text",key:"api_authority_text"},{title:"api\u6743\u9650url",dataIndex:"api_authority_url",key:"api_authority_url"},{title:"api\u6743\u9650\u65b9\u6cd5",dataIndex:"api_authority_method",key:"api_authority_method"}],$e=[{title:"\u8eab\u4efd\u540d\u79f0",dataIndex:"identity",key:"identity"},{title:"api\u6743\u9650\u540d\u79f0",dataIndex:"api_authority_text",key:"api_authority_text"},{title:"api\u6743\u9650url",dataIndex:"api_authority_url",key:"api_authority_url"},{title:"api\u6743\u9650\u65b9\u6cd5",dataIndex:"api_authority_method",key:"api_authority_method"}],et=[{title:"\u89c6\u56fe\u6743\u9650\u540d\u79f0",dataIndex:"view_authority_text",key:"view_authority_text"},{title:"\u89c6\u56feid",dataIndex:"view_id",key:"view_id"}],tt=[{title:"\u8eab\u4efd",dataIndex:"identity",key:"identity"},{title:"\u89c6\u56fe\u6743\u9650\u540d\u79f0",dataIndex:"view_authority_text",key:"view_authority_text"},{title:"\u89c6\u56feid",dataIndex:"view_id",key:"view_id"}];function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var rt,it=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={size:"\u7528\u6237\u6570\u636e",userList:[],identityList:[],apiAuthorityList:[],identityApiList:[],viewAuthorityList:[],identityViewList:[]},a.handleSizeChange=function(e){a.setState({size:e.target.value})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.size,a=e.userList,n=e.identityList,r=e.apiAuthorityList,i=e.identityApiList,s=e.viewAuthorityList,c=e.identityViewList;return l.a.createElement("div",{className:"showUser"},l.a.createElement(Ae.a.Group,{value:t,onChange:this.handleSizeChange},l.a.createElement(Ae.a.Button,{value:"\u7528\u6237\u6570\u636e"},"\u7528\u6237\u6570\u636e"),l.a.createElement(Ae.a.Button,{value:"\u8eab\u4efd\u6570\u636e"},"\u8eab\u4efd\u6570\u636e"),l.a.createElement(Ae.a.Button,{value:"api\u63a5\u53e3\u6743\u9650"},"api\u63a5\u53e3\u6743\u9650"),l.a.createElement(Ae.a.Button,{value:"\u8eab\u4efd\u548capi\u63a5\u53e3\u5173\u7cfb"},"\u8eab\u4efd\u548capi\u63a5\u53e3\u5173\u7cfb"),l.a.createElement(Ae.a.Button,{value:"\u89c6\u56fe\u63a5\u53e3\u6743\u9650"},"\u89c6\u56fe\u63a5\u53e3\u6743\u9650"),l.a.createElement(Ae.a.Button,{value:"\u8eab\u4efd\u548c\u89c6\u56fe\u6743\u9650\u5173\u7cfb"},"\u8eab\u4efd\u548c\u89c6\u56fe\u6743\u9650\u5173\u7cfb")),l.a.createElement("h2",{className:"showUserTitles"},t),l.a.createElement("div",{className:"showUserList"},"\u7528\u6237\u6570\u636e"===t?l.a.createElement(Ke,{columns:We,data:a}):null,"\u8eab\u4efd\u6570\u636e"===t?l.a.createElement(Ke,{columns:Xe,data:n}):null,"api\u63a5\u53e3\u6743\u9650"===t?l.a.createElement(Ke,{columns:Ze,data:r}):null,"\u8eab\u4efd\u548capi\u63a5\u53e3\u5173\u7cfb"===t?l.a.createElement(Ke,{columns:$e,data:i}):null,"\u89c6\u56fe\u63a5\u53e3\u6743\u9650"===t?l.a.createElement(Ke,{columns:et,data:s}):null,"\u8eab\u4efd\u548c\u89c6\u56fe\u6743\u9650\u5173\u7cfb"===t?l.a.createElement(Ke,{columns:tt,data:c}):null))}},{key:"componentDidMount",value:function(){var e=this;k.get("/user/userIdentity").then(function(t){e.setState({userList:t.data.map(function(e){return nt({},e,{key:e.username})})})}),S().then(function(t){e.setState({identityList:t.data.map(function(e){return nt({},e,{key:e.identity_id})})})}),x().then(function(t){e.setState({apiAuthorityList:t.data.map(function(e){return nt({},e,{key:e.api_authority_id})})})}),k.get("/user/identityApiAuthority").then(function(t){e.setState({identityApiList:t.data.map(function(e){return nt({},e,{key:e.api_authority_text})})})}),I().then(function(t){e.setState({viewAuthorityList:t.data.map(function(e){return nt({},e,{key:e.view_authority_id})})})}),k.get("/user/identityViewAuthority").then(function(t){e.setState({identityViewList:t.data.map(function(e){return nt({},e,{key:e.view_authority_text})})})})}}]),t}(i.Component),lt=a(596);function st(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||E.a.error("You can only upload JPG/PNG file!");var a=e.size/1024/1024<2;return a||E.a.error("Image must smaller than 2MB!"),t&&a}var ct,ot=Object(n.connect)(function(e){return e.upHeadImg})(rt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.handleChange=function(e){"uploading"!==e.file.status?"done"===e.file.status&&function(e,t){var a=new FileReader;a.addEventListener("load",function(){return t(a.result)}),a.readAsDataURL(e)}(e.file.originFileObj,function(e){return a.setState({imageUrl:e,loading:!1})}):a.setState({loading:!0})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"upImg",value:function(){this.props.dispatch({type:"login/upHeadImg",payload:this.state.imageUrl}).then(function(){E.a.success("\u8bbe\u7f6e\u6210\u529f")})}},{key:"render",value:function(){var e=l.a.createElement("div",null,l.a.createElement(T.a,{type:this.state.loading?"loading":"plus"})),t=this.state.imageUrl;return l.a.createElement("div",null,l.a.createElement("h2",null,"\u4e0a\u4f20\u5934\u50cf"),l.a.createElement(lt.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:st,onChange:this.handleChange},t?l.a.createElement("img",{src:t,alt:"avatar",style:{width:"100%"}}):e),l.a.createElement(F.a,{className:"updateBtn",onClick:this.upImg.bind(this)},"\u786e\u8ba4"))}}]),t}(i.Component))||rt,ut=a(97),mt=a.n(ut),dt={exam_type:function(){return k.get("/exam/examtype")},subject_type:function(){return k.get("/subject/type")},topic_type:function(){return k.get("/topic/type")},addquestion:function(e){return k.post("/question/addquestion",e)},addquestiontype:function(e){return k.post("/question/addquestiontype",e)},getquestion:function(){return k.get("/question/questionList")},findquestion:function(e){return k.post("/question/findquestion",e)},newquestion:function(e){return k.post("/question/detail",e)}},pt=a(601),ht=X.a.Option,ft=U.a.Content,yt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,iptval:"",topic:"",answer:"",examtype:[],subjecttype:[],topictype:[],select_exam:"",select_subject:"",select_topic:"",username:""},a.onCollapse=function(e){a.setState({collapsed:e})},a.submit=function(){var e=a.state,t=e.iptval,n=e.topic,r=e.answer,i=e.select_exam,l=e.select_subject,s=e.select_topic,c=e.username;c=window.sessionStorage.getItem("name"),console.log(c),dt.addquestion({iptval:t,topic:n,answer:r,select_exam:i,select_subject:l,select_topic:s,username:c}).then(function(e){var t=e.data,a=t.code,n=t.msg;a?E.a.success(n):E.a.error(n)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.iptval,n=t.topic,r=t.answer,i=t.examtype,s=t.subjecttype,c=t.topictype;return l.a.createElement("div",null,l.a.createElement(U.a,{style:{padding:"0 24px 24px",height:"auto",width:"1000px"}},l.a.createElement(pt.a,{style:{margin:"16px 0"}},l.a.createElement(pt.a.Item,null,"\u6dfb\u52a0\u8bd5\u9898")),l.a.createElement(ft,{style:{background:"#fff",padding:24,margin:0,minHeight:300}},l.a.createElement("div",null,"\u9898\u76ee\u4fe1\u606f"),l.a.createElement("div",{style:{margin:"20px 0"}},"\u9898\u5e72"),l.a.createElement(R.a,{placeholder:"\u8bf7\u8f93\u5165\u9898\u76ee\u4fe1\u606f\uff0c\u4e0d\u8d85\u8fc720\u4e2a\u5b57",value:a,onChange:function(t){e.setState({iptval:t.target.value})}}),l.a.createElement("div",{style:{margin:"20px 0"}}," \u9898\u76ee\u4e3b\u9898"),l.a.createElement(mt.a,{style:{height:"300px"},value:n,onChange:function(t){e.setState({topic:t})}}),l.a.createElement("div",{style:{margin:"20px 0"}},"\u8bf7\u9009\u62e9\u8003\u8bd5\u7c7b\u578b:"),l.a.createElement(X.a,{defaultValue:"\u8bf7\u9009\u62e9",style:{width:120},onChange:function(t){e.setState({select_exam:t})}},i&&i.map(function(e,t){return l.a.createElement(ht,{value:e.text,key:t},e.text)})),l.a.createElement("div",{style:{margin:"20px 0"}},"\u8bf7\u9009\u62e9\u8bfe\u7a0b\u7c7b\u578b\uff1a"),l.a.createElement(X.a,{defaultValue:"\u8bf7\u9009\u62e9\uff1a",style:{width:120},onChange:function(t){e.setState({select_subject:t})}},s&&s.map(function(e,t){return l.a.createElement(ht,{value:e.subject_name,key:t},e.subject_name)})),l.a.createElement("div",{style:{margin:"20px 0"}},"\u8bf7\u9009\u62e9\u9898\u76ee\u7c7b\u578b:"),l.a.createElement(X.a,{defaultValue:"\u8bf7\u9009\u62e9",style:{width:120},onChange:function(t){e.setState({select_topic:t})}},c&&c.map(function(e,t){return l.a.createElement(ht,{value:e.typename,key:e.id},e.typename)})),l.a.createElement("div",{style:{margin:"20px 0"}},"\u7b54\u6848\u4fe1\u606f"),l.a.createElement(mt.a,{style:{height:"300px"},value:r,onChange:function(t){e.setState({answer:t})}}),l.a.createElement(F.a,{type:"primary",onClick:this.submit},"\u63d0\u4ea4"))))}},{key:"componentDidMount",value:function(){var e=this;dt.exam_type().then(function(t){e.setState({examtype:t.data.result})}),dt.subject_type().then(function(t){e.setState({subjecttype:t.data.result})}),dt.topic_type().then(function(t){e.setState({topictype:t.data.result})})}}]),t}(i.Component),vt=U.a.Content,bt=[{title:"\u7c7b\u578bID",dataIndex:"name",key:"name"},{title:"\u7c7b\u578b\u540d\u79f0",dataIndex:"age",key:"age"}],gt=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,topictype:[],ModalText:"\u786e\u5b9a",visible:!1,confirmLoading:!1,data:[]},a.onCollapse=function(e){a.setState({collapsed:e})},a.showModal=function(){a.setState({visible:!0})},a.Changevalue=function(e){a.setState({val:e.target.value})},a.handleOk=function(){a.setState({ModalText:"\u786e\u5b9a",confirmLoading:!0});var e=a.state,t=e.val,n=e.data;dt.addquestiontype({val:t}).then(function(e){var r=e.data,i=r.code,l=r.msg;i?(E.a.success(l),n.push({key:n.length+1,name:n.length+1,age:t}),a.setState({data:n})):E.a.error(l)}),setTimeout(function(){a.setState({visible:!1,confirmLoading:!1})},2e3)},a.handleCancel=function(){a.setState({visible:!1})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.visible,a=e.confirmLoading,n=e.data,r=e.val;return l.a.createElement(U.a,{style:{padding:"0 24px 24px",height:"auto",width:"1000px"}},l.a.createElement(pt.a,{style:{margin:"16px 0"}},l.a.createElement(pt.a.Item,null,l.a.createElement("h3",null,"\u6dfb\u52a0\u8bd5\u9898"))),l.a.createElement(vt,{style:{background:"#fff",padding:24,margin:0,minHeight:300}},l.a.createElement("div",null,l.a.createElement(F.a,{type:"primary",onClick:this.showModal},l.a.createElement(T.a,{type:"plus"})," \u6dfb\u52a0\u7c7b\u578b"),l.a.createElement(q.a,{title:"\u521b\u5efa\u65b0\u7c7b\u578b",visible:t,onOk:this.handleOk,confirmLoading:a,onCancel:this.handleCancel},l.a.createElement(R.a,{placeholder:"\u8bf7\u8f93\u5165\u7c7b\u578b\u540d\u79f0",value:r,onChange:this.Changevalue}))),l.a.createElement(Z.a,{columns:bt,dataSource:n})))}},{key:"componentDidMount",value:function(){var e=this,t=this.state.data;dt.topic_type().then(function(a){a.data.result.map(function(e,a){return t.push({key:e.id,name:e.id,age:e.typename,address:""}),t}),e.setState({data:t})})}}]),t}(i.Component),Et=a(95),Ot=a(283),jt=(a(586),U.a.Content),wt=X.a.Option,_t=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={topictype:[],subjectType:[],examtype:[],topicType:[],select_exam:"",select_topic:"",size:"large",data:[],hasMore:!0,id:0},a.handleInfiniteOnLoad=function(){var e=a.state.data;if(a.setState({loading:!0}),e.length>14)return E.a.warning("Infinite List loaded all"),void a.setState({hasMore:!1,loading:!1});a.fetchData(function(t){e=e.concat(t.results),a.setState({data:e,loading:!1})})},a.detailquestion=function(){var e=a.state.data;a.props.history.push({pathname:"/main/detai",query:e})},a.getlist=function(){var e=a.state,t=e.select_exam,n=e.select_topic,r=e.id;dt.findquestion({select_exam:t,select_topic:n,id:r}).then(function(e){var t=e.data,n=t.code,r=t.msg,i=t.result;n?(E.a.success(r),a.setState({data:i})):E.a.error(r)})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.subjectType,n=t.topicType,r=t.examtype;return l.a.createElement(U.a,{style:{padding:"0 24px 24px",height:"auto",width:"1000px"}},l.a.createElement(pt.a,{style:{margin:"16px 0"}},l.a.createElement(pt.a.Item,null,l.a.createElement("h3",null,"\u67e5\u770b\u8bd5\u9898"))),l.a.createElement(jt,{style:{background:"#fff",padding:24,margin:0,minHeight:300}},l.a.createElement("div",null,l.a.createElement(Et.a,{title:"prompt text"},l.a.createElement("span",null," \u8bfe\u7a0b\u7c7b\u578b\uff1a")),a&&a.map(function(t){return l.a.createElement(F.a,{style:{marginLeft:"10px",fontSize:"12px",marginTop:"5px"},key:t.id,onClick:function(){e.setState({id:t.id})}},t.subject_name)}),l.a.createElement("div",{style:{margin:"20px 0"}},l.a.createElement("span",{style:{marginRight:"20px"}},l.a.createElement(Et.a,{title:"prompt text"},l.a.createElement("span",null," \u8003\u8bd5\u7c7b\u578b:")),l.a.createElement(X.a,{defaultValue:"\u8bf7\u9009\u62e9",style:{width:120},onChange:function(t){e.setState({select_exam:t})}},r&&r.map(function(e,t){return l.a.createElement(wt,{value:e.text,key:t},e.text)}))),l.a.createElement("span",null,l.a.createElement(Et.a,{title:"prompt text"},l.a.createElement("span",null," \u9898\u76ee\u7c7b\u578b: ")),l.a.createElement(X.a,{defaultValue:"\u8bf7\u9009\u62e9",style:{width:120},onChange:function(t){e.setState({select_topic:t})}},n&&n.map(function(e,t){return l.a.createElement(wt,{value:e.typename,key:t},e.typename)}))),l.a.createElement("span",{style:{marginLeft:"20px"}},l.a.createElement(F.a,{type:"primary",icon:"search",onClick:this.getlist},"\u67e5\u8be2"))),l.a.createElement("ul",null,this.state.data&&this.state.data.map(function(t,a){return l.a.createElement("li",{style:{display:"flex",borderBottom:"1px solid #eee"},key:a},l.a.createElement("div",{style:{flex:9}},l.a.createElement("div",{style:{padding:"5px"}},t.question_name),l.a.createElement("div",{style:{padding:"5px"}},l.a.createElement(Ot.a,{color:"volcano"},t.question_type),l.a.createElement(Ot.a,{color:"orange"},t.question_class_type),l.a.createElement(Ot.a,{color:"gold"},t.question_exam_type)),l.a.createElement("div",{style:{padding:"5px",color:"#108ee9"}},"dingshaoshan \u53d1\u5e03")),l.a.createElement("div",{style:{flex:1}},l.a.createElement(F.a,{type:"link",size:e.state.size,onClick:e.detailquestion},"\u7f16\u8f91")))})))))}},{key:"componentDidMount",value:function(){var e=this;dt.getquestion().then(function(t){e.setState({data:t.data.result})}),dt.exam_type().then(function(t){e.setState({examtype:t.data.result})}),dt.subject_type().then(function(t){e.setState({subjectType:t.data.result})}),dt.topic_type().then(function(t){e.setState({topicType:t.data.result})})}}]),t}(i.Component),kt=X.a.Option,St=U.a.Content,xt=z.a.create({name:"normal_login"})(ct=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={collapsed:!1,iptval:"",topic:"",answer:"",select_exam:"",select_subject:"",select_topic:"",examtype:[],subjecttype:[],topictype:[],id:0},a.onCollapse=function(e){a.setState({collapsed:e})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(t.id=a.state.id,dt.newquestion(t).then(function(e){var t=e.data,n=t.code;t.msg;n&&a.props.history.push("/main/watchQuestions")}),console.log("Received values of form: ",t))})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.iptval,n=(t.topic,t.answer),r=t.select_exam,i=(t.select_subject,t.select_topic),s=t.examtype,c=t.subjecttype,o=t.topictype,u=(t.id,this.props.form.getFieldDecorator);return l.a.createElement("div",null,l.a.createElement(U.a,{style:{padding:"0 24px 24px",height:"auto",width:"1000px"}},l.a.createElement(pt.a,{style:{margin:"16px 0"}},l.a.createElement(pt.a.Item,null,"\u6dfb\u52a0\u8bd5\u9898")),l.a.createElement(St,{style:{background:"#fff",padding:24,margin:0,minHeight:300}},l.a.createElement("div",null,"\u9898\u76ee\u4fe1\u606f"),l.a.createElement("div",{style:{margin:"20px 0"}},"\u9898\u5e72"),l.a.createElement(z.a,{onSubmit:this.handleSubmit,className:"login-form"},l.a.createElement(z.a.Item,null,u("iptval",{initialValue:a})(l.a.createElement(R.a,{placeholder:"\u8bf7\u8f93\u5165\u9898\u76ee\u4fe1\u606f\uff0c\u4e0d\u8d85\u8fc720\u4e2a\u5b57"}))),l.a.createElement(z.a.Item,{label:"\u9898\u76ee\u4e3b\u9898"},u("topic",{initialValue:this.state.topic})(l.a.createElement(mt.a,{style:{height:"300px"},onChange:function(t){e.setState({topic:t})}}))),l.a.createElement(z.a.Item,{label:"\u8bf7\u9009\u62e9\u8003\u8bd5\u7c7b\u578b"},u("select_exam",{initialValue:r})(l.a.createElement(X.a,{style:{width:120},onChange:function(t){e.setState({select_exam:t})}},s&&s.map(function(e,t){return l.a.createElement(kt,{value:e.text,key:t},e.text)})))),l.a.createElement(z.a.Item,{label:"\u8bf7\u9009\u62e9\u8bfe\u7a0b\u7c7b\u578b\uff1a"},u("select_subject",{initialValue:this.state.select_subject})(l.a.createElement(X.a,{style:{width:120},onChange:function(t){e.setState({select_subject:t})}},c&&c.map(function(e,t){return l.a.createElement(kt,{value:e.subject_name,key:t},e.subject_name)})))),l.a.createElement(z.a.Item,{label:"\u8bf7\u9009\u62e9\u9898\u76ee\u7c7b\u578b"},u("select_topic",{initialValue:i})(l.a.createElement(X.a,{style:{width:120},onChange:function(t){e.setState({select_topic:t})}},o&&o.map(function(e,t){return l.a.createElement(kt,{value:e.typename,key:e.id},e.typename)})))),l.a.createElement(z.a.Item,{label:"\u7b54\u6848\u4fe1\u606f"},u("answer",{initialValue:n})(l.a.createElement(mt.a,{style:{height:"300px"},onChange:function(t){e.setState({answer:t})}}))),l.a.createElement(z.a.Item,null,l.a.createElement(F.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4"))))))}},{key:"componentDidMount",value:function(){var e=this,t=this.props.location.query.item;console.log(t);var a=t.id,n=t.question_name,r=t.question_body,i=t.question_answer,l=t.question_class_type,s=t.question_exam_type,c=t.question_type;this.setState({id:a,iptval:n,topic:r,answer:i,select_exam:s,select_subject:l,select_topic:c}),dt.exam_type().then(function(t){e.setState({examtype:t.data.result})}),dt.subject_type().then(function(t){e.setState({subjecttype:t.data.result})}),dt.topic_type().then(function(t){e.setState({topictype:t.data.result})})}}]),t}(i.Component))||ct,It=[{path:"/login",component:J},{path:"/main",component:V,children:[{path:"/main/addQuestions",component:yt},{path:"/main/detail/:id",component:function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={size:"large"},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.location.state.data;return l.a.createElement("div",{style:{height:"100%",width:"100%",display:"flex",flexFlow:"column nowrap"}},l.a.createElement("h2",null,"\u67e5\u770b\u8bd5\u9898"),l.a.createElement("div",{style:{background:"#fff",flex:1,overflow:"auto",borderRadius:"15px"}},e.map(function(e){return l.a.createElement("div",{style:{display:"flex",borderBottom:"1px solid #eee"},key:e.id},l.a.createElement("div",{style:{flex:9}},l.a.createElement("div",{style:{paddingLeft:"25px",paddingBottom:"7px",paddingTop:"7px"}},e.question_name),l.a.createElement("div",{style:{paddingLeft:"25px",paddingBottom:"7px",paddingTop:"7px"}},l.a.createElement(Ot.a,{color:"volcano"},e.question_type),l.a.createElement(Ot.a,{color:"orange"},e.question_class_type),l.a.createElement(Ot.a,{color:"gold"},e.question_exam_type)),l.a.createElement("div",{style:{paddingLeft:"25px",paddingBottom:"7px",paddingTop:"7px",color:"#108ee9"}},e.user," \u53d1\u5e03")))})))}}]),t}(i.Component)},{path:"/main/questionsType",component:gt},{path:"/main/watchQuestions",component:_t},{path:"/main/detai",component:xt},{path:"/main/addUser",component:ze},{path:"/main/showUser",component:it},{path:"/main/addExam",component:De},{path:"/main/exam",component:ae},{path:"/main/grade",component:ve},{path:"/main/room",component:de},{path:"/main/student",component:Je},{path:"/main/paper",component:pe},{path:"/main/addHeadImg",component:ot}]},{from:"/",to:"/login"}],Ct=function e(t){var a=t.route;return l.a.createElement(s.Switch,null,a.map(function(t){return t.path?t.children?l.a.createElement(s.Route,{key:t.path,path:t.path,render:function(a){return l.a.createElement(t.component,Object.assign({},a,{route:t.children}),l.a.createElement(e,{route:t.children}))}}):l.a.createElement(s.Route,{key:t.path,path:t.path,render:function(e){return l.a.createElement(t.component,e)}}):l.a.createElement(s.Redirect,Object.assign({key:t.from},t))}))};var Dt=function(e){var t=e.history;return l.a.createElement("div",{className:"App"},l.a.createElement(s.Router,{history:t},l.a.createElement(Ct,{route:It})))},Nt=a(71),qt=a.n(Nt);a(282);function At(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Ut={type:1};function Lt(e){return g.a.post("/user/login",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?At(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):At(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},Ut,{},e))}var Pt;function Ft(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ft(a,!0).forEach(function(t){Object(f.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ft(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Mt={namespace:"login",state:{token:h.a.get("token")||"",name:sessionStorage.getItem("name")||""},effects:{login:qt.a.mark(function e(t,a){var n,r,i,l;return qt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.call,i=a.put,e.next=4,r(Lt,n);case 4:return l=e.sent,h.a.set("token",l.data.token,{expires:7}),h.a.set("id",l.data.id,{expires:7}),h.a.set("identity_id",l.data.identity_id,{expires:7}),h.a.set("username",l.data.username,{expires:7}),e.next=11,i({type:"SAVETOKEN",payload:{token:l.data.token,value:l,name:n.username}});case 11:case"end":return e.stop()}},e)}),upHeadImg:qt.a.mark(function e(t,a){var n,r;return qt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,a.call,r=a.put,localStorage.setItem("HeadImg",n),e.next=5,r({type:"SAVE_HEADIMG",value:n});case 5:case"end":return e.stop()}},e)})},reducers:(Pt={},Object(f.a)(Pt,"SAVETOKEN",function(e,t){var a=t.payload;return console.log(a),Tt({},e,{},a,{name:a.name})}),Object(f.a)(Pt,"SAVE_HEADIMG",function(e,t){return Tt({},e,{headImg:t.value})}),Pt)},Ht=a(34),Yt=r()({history:Object(Ht.a)()});Yt.model(Mt),Yt.router(Dt),Yt.start("#root")}},[[286,1,2]]]);
//# sourceMappingURL=main.b76cd72d.chunk.js.map